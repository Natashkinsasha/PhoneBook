CREATE SCHEMA `phonebooknatashkin` ;

CREATE TABLE `phonebooknatashkin`.`contact` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `firstname` varchar(45) DEFAULT NULL,
  `secondname` varchar(45) DEFAULT NULL,
  `patronymic` varchar(45) DEFAULT NULL,
  `birthday` date DEFAULT NULL,
  `male` tinyint(1) DEFAULT NULL,
  `nationality` varchar(45) DEFAULT NULL,
  `relationshipstatus` varchar(45) DEFAULT NULL,
  `website` varchar(45) DEFAULT NULL,
  `email` varchar(45) DEFAULT NULL,
  `country` varchar(45) DEFAULT NULL,
  `city` varchar(45) DEFAULT NULL,
  `street` varchar(45) DEFAULT NULL,
  `ind` varchar(45) DEFAULT NULL,
  `company` varchar(45) DEFAULT NULL,
  `photo_path` varchar(244) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=180 DEFAULT CHARSET=utf8;

CREATE TABLE `phonebooknatashkin`.`telephone` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `number` varchar(45) DEFAULT NULL,
  `type` varchar(45) DEFAULT NULL,
  `comment` varchar(45) DEFAULT NULL,
  `contact_id` int(11) DEFAULT NULL,
  `country_code` varchar(45) DEFAULT NULL,
  `operator_code` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `id_idx` (`contact_id`),
  CONSTRAINT `telephone_contact` FOREIGN KEY (`contact_id`) REFERENCES `contact` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=65 DEFAULT CHARSET=utf8;

CREATE TABLE `phonebooknatashkin`.`attachment` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `path` VARCHAR(244) NULL,
  `creation_date` DATE NULL,
  `comment` VARCHAR(100) NULL,
  `contact_id` INT(11) NULL,
  PRIMARY KEY (`id`),
  INDEX `id_idx` (`contact_id` ASC),
  CONSTRAINT `attachment_contact`
    FOREIGN KEY (`contact_id`)
    REFERENCES `phonebooknatashkin`.`contact` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE);

